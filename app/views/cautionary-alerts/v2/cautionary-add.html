{% set serviceName = "Manage My Home" %}
{% set pageName = "Add cautionary alert" %}
{% extends "layout/cautionary-alerts/v2.html" %}

{% block content %}

  <div class="govuk-grid-row">
    <div class="govuk-grid-column-full">

        {{ govukBackLink({
          text: "Mrs Joan Fisher",
          href: "person"
        }) }}

        <h1 class="govuk-heading-l govuk-!-margin-bottom-3">
          Add cautionary alert
        </h1>    
    </div>
  </div>
  <div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">
  
      <form action="" method="post">
        
        <div class="govuk-form-group lbh-form-group">

          {{ govukInput({
            id: "cc-"+v+"-ref",
            name: "cc-"+v+"-ref",
            classes: "lbh-input govuk-input--width-10",
            label: {
              text: "Assure Reference"
            },
            value: data["cc-"+v+"-ref"]
          }) }}
          

          {{ govukDateInput({
            id: "cc-"+v+"-date",
            namePrefix: "cc-"+v+"-date",
            classes: "lbh-date-input",
            fieldset: {
              legend: {
                classes: "",
                text: "Date of incident"
              }
            },
            items: [
              {
                name: "day",
                label: "Day",
                value: data["cc-"+v+"-date-day"],
                classes: "govuk-input--width-2"
              },
              {
                name: "month",
                label: "Month",
                value: data["cc-"+v+"-date-month"],
                classes: "govuk-input--width-2"
              },
              {
                name: "year",
                label: "Year",
                value: data["cc-"+v+"-date-year"],
                classes: "govuk-input--width-4"
              }
            ]
          }) }}

          {% set codeHtml %}
            {{ govukInput({
              id: "thc-"+v+"-type-other",
              name: "thc-"+v+"-type-other",
              label: {
                text: "Enter type of caution"
              },
              value: data["thc-"+v+"-type-other"]
            }) }}
          {% endset -%}

          {{ govukSelect({
            id: "cc-"+v+"-type",
            name: "cc-"+v+"-type",
            classes: "lbh-select",
            label: {
              text: "Type of caution"
            },
            items: [
              {
                value: "",
                text: "Select type of caution",
                selected: checked("cc-"+v+"-type", "")
              },
              {
                value: "Beware of aggressive pets",
                text: "Beware of aggressive pets",
                selected: checked("cc-"+v+"-type", "Beware of aggressive pets")
              },
              {
                value: "Do not visit - Seek advice",
                text: "Do not visit - Seek advice",
                selected: checked("cc-"+v+"-type", "Do not visit - Seek advice")
              },
              {
                value: "Do not visit alone",
                text: "Do not visit alone",
                selected: checked("cc-"+v+"-type", "Do not visit alone")
              },
              {
                value: "No female visits",
                text: "No female visits",
                selected: checked("cc-"+v+"-type", "No female visits")
              },
              {
                value: "Safeguarding",
                text: "Safeguarding",
                selected: checked("cc-"+v+"-type", "Safeguarding")
              },
              {
                value: "Verbal abuse",
                text: "Verbal abuse",
                selected: checked("cc-"+v+"-type", "Verbal abuse")
              },
              {
                value: "Other",
                text: "Other",
                selected: checked("cc-"+v+"-type", "Other"),
                conditional: {
                  html: codeHtml
                }
              }
            ]
          }) }}

          {{ govukSelect({
            id: "cc-"+v+"-tenant",
            name: "cc-"+v+"-tenant",
            classes: "lbh-select",
            label: {
              text: "Tenant"
            },
            items: [
              {
                value: "",
                text: "Select tenant",
                selected: checked("cc-"+v+"-tenant", "")
              },
              {
                value: "Joan Fisher",
                text: "Joan Fisher",
                selected: checked("cc-"+v+"-tenant", "Joan Fisher")
              }
            ]
          }) }}

          {{ govukTextarea({
            id: "cc-"+v+"-description",
            name: "cc-"+v+"-description",
            classes: "lbh-textarea",
            rows: 4,
            label: {
              text: "Description of incident"
            },
            value: data["cc-"+v+"-description"]
          }) }}

        </div>
          
        <button class="govuk-button lbh-button govuk-!-margin-top-5" data-module="govuk-button">
          Save and continue
        </button>
      
      </form>

    </div>
  </div>

{% endblock %}